{"type":"operationStart","subtype":"render","name":"ReportView.pdf","previousOperationId":null,"profileId":"1hqzPaBczzeMVpvB","timestamp":1645811217757,"id":"5zzvapnfii49bvu","operationId":"wbioycfp9fqtrot"}
{"type":"log","timestamp":1645811217757,"level":"info","message":"Starting rendering request 82 (user: null)","meta":{"rootId":"quo3l8888ssv8rk","id":"quo3l8888ssv8rk"},"id":"86ka2v1t2dnk31m","operationId":"pr7hec3w3rc8if1","previousOperationId":"wbioycfp9fqtrot"}
{"type":"log","timestamp":1645811217758,"level":"info","message":"Rendering template { name: ReportView.pdf, recipe: chrome-pdf, engine: handlebars, preview: true }","meta":{"rootId":"quo3l8888ssv8rk","id":"quo3l8888ssv8rk"},"id":"5pn2wx8fwkbb9le","operationId":"eksctb9z20aijrj","previousOperationId":"wbioycfp9fqtrot"}
{"type":"log","timestamp":1645811217758,"level":"debug","message":"Data item not defined for this template.","meta":{"rootId":"quo3l8888ssv8rk","id":"quo3l8888ssv8rk"},"id":"4pjh12g9rc6r3v9","operationId":"apib1wmprv7zs7j","previousOperationId":"wbioycfp9fqtrot"}
{"type":"log","timestamp":1645811217760,"level":"debug","message":"Executing script view-script (beforeRender)","meta":{"rootId":"quo3l8888ssv8rk","id":"quo3l8888ssv8rk"},"id":"t7sj2mxkzrjshyw","operationId":"cx23um1dhtl8myd","previousOperationId":"wbioycfp9fqtrot"}
{"type":"log","timestamp":1645811217772,"level":"error","message":"Error when processing render request 82 Error when evaluating custom script /Views/view-script\nUnexpected token '<' sandbox.js:1\n;(async () => { <script src='https://cdn.plot.ly/plotly-2.9.0.min.js'></script>\n                ^\n\nSyntaxError: Unexpected token '<'\n    at new Script (node:vm:100:7)\n    at VMScript.script._compile (E:\\Ibraime\\3DVista-Nodejs\\3dVista-Nodejs\\backend\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\sandbox\\safeSandbox.js:179:16)\n    at VMScript._compileVM (E:\\Ibraime\\3DVista-Nodejs\\3dVista-Nodejs\\backend\\node_modules\\vm2\\lib\\main.js:466:37)\n    at VM.run (E:\\Ibraime\\3DVista-Nodejs\\3dVista-Nodejs\\backend\\node_modules\\vm2\\lib\\main.js:905:20)\n    at run (E:\\Ibraime\\3DVista-Nodejs\\3dVista-Nodejs\\backend\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\sandbox\\safeSandbox.js:194:33)\n    at WorkerReporter._runInSandbox (E:\\Ibraime\\3DVista-Nodejs\\3dVista-Nodejs\\backend\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\sandbox\\runInSandbox.js:140:12)\n    at WorkerReporter.runInSandbox (E:\\Ibraime\\3DVista-Nodejs\\3dVista-Nodejs\\backend\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\reporter.js:151:17)\n    at async executeScript (E:\\Ibraime\\3DVista-Nodejs\\3dVista-Nodejs\\backend\\node_modules\\@jsreport\\jsreport-scripts\\lib\\executeScript.js:123:12)\n    at async Scripts._runScript (E:\\Ibraime\\3DVista-Nodejs\\3dVista-Nodejs\\backend\\node_modules\\@jsreport\\jsreport-scripts\\lib\\worker.js:140:30)\n    at async Scripts.handleBeforeRender (E:\\Ibraime\\3DVista-Nodejs\\3dVista-Nodejs\\backend\\node_modules\\@jsreport\\jsreport-scripts\\lib\\worker.js:64:7)","meta":{"rootId":"quo3l8888ssv8rk","id":"quo3l8888ssv8rk"},"id":"awg73jszymevkig","operationId":"ddt4l67bubel2g6","previousOperationId":"wbioycfp9fqtrot"}
{"type":"log","timestamp":1645811217772,"level":"error","message":"Rendering request 82 finished with error in 15 ms","meta":{"rootId":"quo3l8888ssv8rk","id":"quo3l8888ssv8rk"},"id":"dhirehgeq842ovx","operationId":"aakfltq8p7v612d","previousOperationId":"wbioycfp9fqtrot"}
{"type":"error","timestamp":1645811217781,"entity":{"shortid":"TSCs-z5","name":"view-script","content":"<script src='https://cdn.plot.ly/plotly-2.9.0.min.js'></script>\r\n\r\nvar mysql = require('mysql');\r\n\r\nvar con = mysql.createConnection({\r\n    host: \"localhost\",\r\n    user: \"root\",\r\n    password: \"\",\r\n    database: \"db_galdar_3d\",\r\n    port: \"3306\",\r\n});\r\n\r\n\r\n\r\nfunction beforeRender(request, response, done) {\r\n    con.connect(function(err) {\r\n        if (err) throw err;\r\n        con.query('select * from views', function(err, result, fields) {\r\n            if (err) throw err;\r\n            request.data = {\r\n                view: result\r\n            };\r\n            done();\r\n        });\r\n    });\r\n}\r\n\r\nvar data = [\r\n        { \r\n            x: ['giraffes', 'orangutans', 'monkeys'],\r\n            y: [20, 14, 23],\r\n            type: 'bar'\r\n            \r\n        }\r\n        ];\r\n\r\n        Plotly.newPlot('myDiv', data);\r\n\r\n\r\n\r\n"},"property":"content","logged":true,"previousOperationId":"wbioycfp9fqtrot","id":"ygyeavwcoujaere","stack":"sandbox.js:1\n;(async () => { <script src='https://cdn.plot.ly/plotly-2.9.0.min.js'></script>\n                ^\n\nSyntaxError: Unexpected token '<'\n    at new Script (node:vm:100:7)\n    at VMScript.script._compile (E:\\Ibraime\\3DVista-Nodejs\\3dVista-Nodejs\\backend\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\sandbox\\safeSandbox.js:179:16)\n    at VMScript._compileVM (E:\\Ibraime\\3DVista-Nodejs\\3dVista-Nodejs\\backend\\node_modules\\vm2\\lib\\main.js:466:37)\n    at VM.run (E:\\Ibraime\\3DVista-Nodejs\\3dVista-Nodejs\\backend\\node_modules\\vm2\\lib\\main.js:905:20)\n    at run (E:\\Ibraime\\3DVista-Nodejs\\3dVista-Nodejs\\backend\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\sandbox\\safeSandbox.js:194:33)\n    at WorkerReporter._runInSandbox (E:\\Ibraime\\3DVista-Nodejs\\3dVista-Nodejs\\backend\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\sandbox\\runInSandbox.js:140:12)\n    at WorkerReporter.runInSandbox (E:\\Ibraime\\3DVista-Nodejs\\3dVista-Nodejs\\backend\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\reporter.js:151:17)\n    at async executeScript (E:\\Ibraime\\3DVista-Nodejs\\3dVista-Nodejs\\backend\\node_modules\\@jsreport\\jsreport-scripts\\lib\\executeScript.js:123:12)\n    at async Scripts._runScript (E:\\Ibraime\\3DVista-Nodejs\\3dVista-Nodejs\\backend\\node_modules\\@jsreport\\jsreport-scripts\\lib\\worker.js:140:30)\n    at async Scripts.handleBeforeRender (E:\\Ibraime\\3DVista-Nodejs\\3dVista-Nodejs\\backend\\node_modules\\@jsreport\\jsreport-scripts\\lib\\worker.js:64:7)","message":"Error when evaluating custom script /Views/view-script\nUnexpected token '<'"}
