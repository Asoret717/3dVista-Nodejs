{"type":"operationStart","subtype":"render","name":"ReportView.pdf","previousOperationId":null,"profileId":"dO5phbS2hoM3NFNp","timestamp":1645811198147,"id":"q34jefl4cnxhlpx","operationId":"a4hizpgwprpzwj7"}
{"type":"log","timestamp":1645811198147,"level":"info","message":"Starting rendering request 81 (user: null)","meta":{"rootId":"mrct7qudh42xljd","id":"mrct7qudh42xljd"},"id":"8pghipmthum4np0","operationId":"wybgx0wvzhowp7y","previousOperationId":"a4hizpgwprpzwj7"}
{"type":"log","timestamp":1645811198148,"level":"info","message":"Rendering template { name: ReportView.pdf, recipe: chrome-pdf, engine: handlebars, preview: true }","meta":{"rootId":"mrct7qudh42xljd","id":"mrct7qudh42xljd"},"id":"1z2o4fggm0c46g5","operationId":"0goefi4gacr2g10","previousOperationId":"a4hizpgwprpzwj7"}
{"type":"log","timestamp":1645811198149,"level":"debug","message":"Data item not defined for this template.","meta":{"rootId":"mrct7qudh42xljd","id":"mrct7qudh42xljd"},"id":"1z6u55rsf6293b4","operationId":"ttm3op7iobn1rrh","previousOperationId":"a4hizpgwprpzwj7"}
{"type":"log","timestamp":1645811198150,"level":"debug","message":"Executing script view-script (beforeRender)","meta":{"rootId":"mrct7qudh42xljd","id":"mrct7qudh42xljd"},"id":"26s3epfjy25prpb","operationId":"nxka2bj5py28dsy","previousOperationId":"a4hizpgwprpzwj7"}
{"type":"log","timestamp":1645811198167,"level":"warn","message":"Error when processing render request 81 Error when evaluating custom script /Views/view-script\nPlotly is not defined\n\n(sandbox.js line 35:9)\n\n  33 |         ];\n  34 |\n> 35 |         Plotly.newPlot('myDiv', data);\n     |         ^\n  36 |\n  37 |\n  38 |\n\n(sandbox.js line 39:43)\n\n  37 |\n  38 |\n> 39 |\n     | ^\n\n ReferenceError: Plotly is not defined\n    at sandbox.js:35:9\n    at sandbox.js:39:43\n    at Script.runInContext (node:vm:139:12)\n    at VM.run (E:\\Ibraime\\3DVista-Nodejs\\3dVista-Nodejs\\backend\\node_modules\\vm2\\lib\\main.js:933:53)\n    at run (E:\\Ibraime\\3DVista-Nodejs\\3dVista-Nodejs\\backend\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\sandbox\\safeSandbox.js:194:33)\n    at WorkerReporter._runInSandbox (E:\\Ibraime\\3DVista-Nodejs\\3dVista-Nodejs\\backend\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\sandbox\\runInSandbox.js:140:12)\n    at WorkerReporter.runInSandbox (E:\\Ibraime\\3DVista-Nodejs\\3dVista-Nodejs\\backend\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\reporter.js:151:17)\n    at async executeScript (E:\\Ibraime\\3DVista-Nodejs\\3dVista-Nodejs\\backend\\node_modules\\@jsreport\\jsreport-scripts\\lib\\executeScript.js:123:12)\n    at async Scripts._runScript (E:\\Ibraime\\3DVista-Nodejs\\3dVista-Nodejs\\backend\\node_modules\\@jsreport\\jsreport-scripts\\lib\\worker.js:140:30)\n    at async Scripts.handleBeforeRender (E:\\Ibraime\\3DVista-Nodejs\\3dVista-Nodejs\\backend\\node_modules\\@jsreport\\jsreport-scripts\\lib\\worker.js:64:7)","meta":{"rootId":"mrct7qudh42xljd","id":"mrct7qudh42xljd"},"id":"y4qub542dvr7hcl","operationId":"chp1kusv8sszkap","previousOperationId":"a4hizpgwprpzwj7"}
{"type":"log","timestamp":1645811198167,"level":"warn","message":"Rendering request 81 finished with error in 20 ms","meta":{"rootId":"mrct7qudh42xljd","id":"mrct7qudh42xljd"},"id":"cnx2d3xwb8ikbx1","operationId":"1y7ht6usgptu14z","previousOperationId":"a4hizpgwprpzwj7"}
{"type":"error","timestamp":1645811198176,"statusCode":400,"weak":true,"lineNumber":35,"entity":{"shortid":"TSCs-z5","name":"view-script","content":"var mysql = require('mysql');\r\n\r\nvar con = mysql.createConnection({\r\n    host: \"localhost\",\r\n    user: \"root\",\r\n    password: \"\",\r\n    database: \"db_galdar_3d\",\r\n    port: \"3306\",\r\n});\r\n\r\n\r\n\r\nfunction beforeRender(request, response, done) {\r\n    con.connect(function(err) {\r\n        if (err) throw err;\r\n        con.query('select * from views', function(err, result, fields) {\r\n            if (err) throw err;\r\n            request.data = {\r\n                view: result\r\n            };\r\n            done();\r\n        });\r\n    });\r\n}\r\n\r\nvar data = [\r\n        { \r\n            x: ['giraffes', 'orangutans', 'monkeys'],\r\n            y: [20, 14, 23],\r\n            type: 'bar'\r\n            \r\n        }\r\n        ];\r\n\r\n        Plotly.newPlot('myDiv', data);\r\n\r\n\r\n\r\n"},"property":"content","logged":true,"previousOperationId":"a4hizpgwprpzwj7","id":"tcr9h2icmc7vknx","stack":"ReferenceError: Plotly is not defined\n    at sandbox.js:35:9\n    at sandbox.js:39:43\n    at Script.runInContext (node:vm:139:12)\n    at VM.run (E:\\Ibraime\\3DVista-Nodejs\\3dVista-Nodejs\\backend\\node_modules\\vm2\\lib\\main.js:933:53)\n    at run (E:\\Ibraime\\3DVista-Nodejs\\3dVista-Nodejs\\backend\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\sandbox\\safeSandbox.js:194:33)\n    at WorkerReporter._runInSandbox (E:\\Ibraime\\3DVista-Nodejs\\3dVista-Nodejs\\backend\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\sandbox\\runInSandbox.js:140:12)\n    at WorkerReporter.runInSandbox (E:\\Ibraime\\3DVista-Nodejs\\3dVista-Nodejs\\backend\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\reporter.js:151:17)\n    at async executeScript (E:\\Ibraime\\3DVista-Nodejs\\3dVista-Nodejs\\backend\\node_modules\\@jsreport\\jsreport-scripts\\lib\\executeScript.js:123:12)\n    at async Scripts._runScript (E:\\Ibraime\\3DVista-Nodejs\\3dVista-Nodejs\\backend\\node_modules\\@jsreport\\jsreport-scripts\\lib\\worker.js:140:30)\n    at async Scripts.handleBeforeRender (E:\\Ibraime\\3DVista-Nodejs\\3dVista-Nodejs\\backend\\node_modules\\@jsreport\\jsreport-scripts\\lib\\worker.js:64:7)","message":"Error when evaluating custom script /Views/view-script\nPlotly is not defined\n\n(sandbox.js line 35:9)\n\n  33 |         ];\n  34 |\n> 35 |         Plotly.newPlot('myDiv', data);\n     |         ^\n  36 |\n  37 |\n  38 |\n\n(sandbox.js line 39:43)\n\n  37 |\n  38 |\n> 39 |\n     | ^\n\n"}
