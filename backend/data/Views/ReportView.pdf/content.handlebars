<html>

<head>
    <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/metro/4.1.5/css/metro.min.css">
    <script src='https://cdn.plot.ly/plotly-2.9.0.min.js'></script>
</head>

<body>
    <br></br>
    <p align="center" style="color:blue">
        <b>Showing all views</b>
    </p>
    <p id="date" align="center" style="margin-bottom:-30px;"></p><br></br>

    <div id='myDiv' style="height:400px;">

    <table class='table striped'>
        <thead>
            <tr>
                <th>Name</th>
                <th>Views</th>
            </tr>
        </thead>
        <tbody>
            {{#each view}}
            <tr>
                <td id="nam{{id}}">{{name}}</td>
                <td id="view{{id}}">{{views}}</td>
            </tr>
            <div id="counter" class="counter"></div>
            {{/each}}
        </tbody>
    </table>

    <script>
        n =  new Date();
        y = n.getFullYear();
        m = n.getMonth() + 1;
        d = n.getDate();
        document.getElementById("date").innerHTML = d + "/" + m + "/" + y;
        
        var names = []; 
        var views = [];

        for (var i = 1; i < 20; i++) {
            if(document.getElementById("nam"+i.toString()) == "[object HTMLTableCellElement]"){
                names.push(document.getElementById("nam"+i.toString()).innerHTML);
                views.push(document.getElementById("view"+i.toString()).innerHTML);
            }
        }

        var data = [
        { 
            x: names,
            y: views,
            type: 'bar'
            
        }
        ];

        Plotly.newPlot('myDiv', data);
    </script>
    <div style='page-break-after: always;'>
    </div>
</body>

</html>